@page "/counter2"

<PageTitle>Counter</PageTitle>

<h1>Counter at @DateTime.Now.ToString()</h1>

<p role="status">Current count: @currentCount</p>

@foreach (var item in counts)
{ 
    <p>@item.Id - @item.Name</p>
}

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<button class="btn btn-primary" @onclick="IncrementCount2">Click me222</button>
<button class="btn btn-primary" @onclick="UpdateFirstName">UpdateFirstName</button>

@code {
    private List<Count> counts = [];
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
        counts.Add(new Count() { Id = currentCount, Name = currentCount.ToString() });
    }

    private void IncrementCount2()
    {
        currentCount++;
        counts.Add(new Count() { Id = currentCount, Name = currentCount.ToString() });
        StateHasChanged();
    }

    private void UpdateFirstName()
    {
        counts.FirstOrDefault().Name = DateTime.Now.ToString();
    }

    public class Count
    { 
    public int Id { get; set; }
    public string? Name { get; set; }
    }
}
